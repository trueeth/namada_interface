import { tv, type VariantProps } from "tailwind-variants";

const loading = tv({
  slots: {
    container:
      "block h-full w-full min-h-[50vh] transition-opacity duration-150",
    panel:
      "flex flex-col items-center bg-yellow gap-10 absolute top-0 left-0 h-full w-full py-24 px-12 z-50",
    header:
      "flex items-end text-2xl font-medium min-h-[2.5em] text-center uppercase text-balance",
    image: "block max-w-[240px] mx-auto",
  },
  variants: {
    visible: {
      false: {
        container: "opacity-0 pointer-events-none absolute",
      },
    },
    variant: {
      contained: {},
      full: { container: "absolute left-0 top-0" },
    },
  },
});

type LoadingProps = {
  status: string;
  imageUrl?: string;
  className?: string;
} & VariantProps<typeof loading>;

export const Loading = ({
  status,
  visible = true,
  imageUrl = "",
  variant = "contained",
  className,
}: LoadingProps): JSX.Element => {
  const { container, panel, header, image } = loading({ variant, visible });

  return (
    <div className={container({ class: className })}>
      <div className={panel()}>
        <header className={header()}>{status}</header>
        {imageUrl && (
          <img src={imageUrl} alt="Loading..." className={image()} />
        )}
        {!imageUrl && (
          <svg
            className="w-[80%] max-w-[500px]"
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 373 320"
          >
            <path d="M170.881.00000568C249.777-.0422233 313.751 63.8081 313.79 142.634c.038 78.972-63.905 142.942-142.844 142.899-79.0121-.038-142.8631-63.946-142.8132-142.929C28.1828 63.8618 92.0645.0422347 170.881.00000568ZM170.915 19.0376c-68.284.023-123.6995 55.3508-123.7302 123.5394-.0307 68.495 55.2812 123.896 123.7262 123.919 68.445.023 123.838-55.366 123.827-123.823-.012-68.3-55.455-123.6623-123.823-123.6354Z" />
            <path d="M155.758 228.256v-45.681h45.517v45.681h-45.517Z" />
            <path d="M110.256 107.369c-6.972 0-13.9394-.034-20.9111.027-1.4596.012-2.0166-.368-2.0089-1.931.0538-13.9355.0499-27.8711.0115-41.8028-.0038-1.455.3842-2.0001 1.9437-1.9963 19.0138.0499 37.3168 14.0738 42.0718 32.5087.933 3.6201 1.179 7.4204 1.759 11.1334.242 1.551-.284 2.126-1.955 2.107-6.968-.088-13.939-.038-20.911-.038v-.008Z" />
            <path d="M216.006 79.379c8.754-8.7298 17.565-17.5096 26.285-26.205 8.569 8.5955 17.358 17.4099 26.046 26.1244-8.638 8.6032-17.488 17.4176-26.277 26.1746-8.55-8.5651-17.304-17.3334-26.054-26.094Z" />
            <path d="M107.579 118.556c3.71 0 7.421.035 11.131-.023 1.099-.015 1.721.349 2.27 1.317 3.603 6.33 7.302 12.607 10.863 18.961.373.664.388 1.892.019 2.549-3.53 6.3-7.202 12.515-10.763 18.795-.614 1.083-1.298 1.532-2.558 1.525-7.229-.054-14.458-.05-21.6829 0-1.1793.007-1.8361-.4-2.4161-1.421-3.5684-6.277-7.1829-12.53-10.8358-18.757-.5915-1.006-.6031-1.758 0-2.784 3.6567-6.226 7.2635-12.48 10.8243-18.761.6222-1.102 1.3636-1.462 2.5966-1.435 3.5149.08 7.0369.026 10.5549.026v.008h-.003Zm.111 29.737c3.726 1.175 5.501-.745 7.325-3.781 1.901-3.171 2.036-5.479.085-8.734-1.84-3.075-3.73-4.173-7.302-4.189-3.665-.015-5.632 1.045-7.452 4.296-1.7479 3.125-1.8747 5.306 0 8.396 1.828 3.018 3.449 5.313 7.344 4.016v-.004Z" />
            <path d="M228.485 216.454c-12.019-.222-21.499-9.958-21.31-21.882.188-11.924 10.029-21.387 22.005-21.16 12.042.226 21.438 10.023 21.242 22.151-.185 11.536-10.237 21.11-21.941 20.895l.004-.004Zm-8.005-21.659c-.034 4.714 3.665 8.488 8.324 8.488 4.556 0 8.289-3.747 8.301-8.327.015-4.599-3.661-8.334-8.24-8.384-4.574-.05-8.35 3.651-8.385 8.223Z" />
            <path d="M191.299 113.216c-1.137 4.515-2.193 8.715-3.291 13.076-3.811-.956-7.464-1.858-11.109-2.784-2.681-.679-2.639-.683-3.265 1.916-.879 3.651-1.824 7.29-2.8 11.172-4.421-1.102-8.662-2.162-13.106-3.271 1.129-4.638 2.197-9.022 3.33-13.683-2.254-.591-4.39-1.155-6.533-1.704-1.982-.507-3.988-.941-5.943-1.539-.411-.127-.987-.914-.91-1.267.91-3.966 1.936-7.909 2.981-12.059 4.598 1.125 8.98 2.2 13.682 3.352 1.164-4.538 2.301-8.9489 3.511-13.6709 4.359 1.0826 8.65 2.1499 13.109 3.2593-1.006 4.0966-1.89 8.0116-2.957 11.8776-.419 1.513-.027 2.012 1.436 2.346 3.914.891 7.794 1.942 11.862 2.975l.003.004Z" />
            <path d="M159.764 65.3398c9.453-6.9716 23.388-4.4532 30.087 5.2403 6.695 9.6934 4.356 23.6136-5.243 29.7749-8.255-11.6318-16.517-23.2794-24.844-35.0152Z" />
            <path d="M23.5922 320c13.0296 0 23.5922-10.557 23.5922-23.579 0-13.023-10.5626-23.579-23.5922-23.579C10.5626 272.842 0 283.398 0 296.421 0 309.443 10.5626 320 23.5922 320Z" />
            <path d="M349.408 172.245c13.029 0 23.592-10.557 23.592-23.58 0-13.022-10.563-23.579-23.592-23.579-13.03 0-23.593 10.557-23.593 23.579 0 13.023 10.563 23.58 23.593 23.58Z" />
          </svg>
        )}
      </div>
    </div>
  );
};
